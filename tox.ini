[tox]
envlist = 
    py{27,34,35,36,37}-django{111}-{locmem,file,memcached,redis}
    py{34,35,36,37}-django{20}-{locmem,file,memcached,redis}
    py{35,36,37}-django{21}-{locmem,file,memcached,redis}
    py{36,37}-django{22}-{locmem,file,memcached,redis}

[testenv]
deps = 
    -rrequirements-test.txt
    py27: mock==2.0.0
    py27: unittest2==1.1.0
    django111: Django>=1.11,<2.0
    django20: Django>=2.0,<2.1
    django21: Django>=2.1,<2.2
    django22: Django>=2.2
    memcached: python-memcached>=1.59
    redis: django-redis>=4.0.0
    mysql: mysqlclient>=1.4.2
commands =
    python setup.py test
setenv =
    file: DJANGO_SETTINGS_MODULE=tests.settings.file
    memcached: DJANGO_SETTINGS_MODULE=tests.settings.memcached
    sqlite: DJANGO_SETTINGS_MODULE=tests.settings.sqlite
    mysql: DJANGO_SETTINGS_MODULE=tests.settings.mysql
    redis: DJANGO_SETTINGS_MODULE=tests.settings.redis